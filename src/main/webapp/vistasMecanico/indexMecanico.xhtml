<?xml version="1.0" encoding="UTF-8"?>

<ui:composition
        xmlns="http://www.w3.org/1999/xhtml"
        xmlns:h="http://java.sun.com/jsf/html"
        xmlns:b="http://bootsfaces.net/ui"
        xmlns:f="http://xmlns.jcp.org/jsf/core"
        xmlns:p="http://primefaces.org/ui"
        xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
        xmlns:c="http://java.sun.com/jsp/jstl/core"
        template="../templates/PlantillaMecanico.xhtml">


   <ui:define name="content">

      <div class="container" style="    width: 70%;padding: 20px;background-color: #ffffff;border-radius: 5px;box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);text-align: center; justify-content: center; margin-top: 10px;">
         <h1 style="font-size: 24px;color: #1a1e21;">Bienvenido</h1>
         <p style="   font-size: 18px;color: #1a1e21;">Tienes la tarea de agregar respuestos y automoviles de agencia</p>


         <b:carousel id="tiovivo" style="width:800px" interval="2500">
            <b:carouselItem style="width: 100%; height: 500px">
               <h:graphicImage  name="img/carousel.jpg" alt="Valladolid" style="width: 100%; height: 500px" />
               <b:carouselCaption>
                  <h2>Confiamos en tu labor!</h2>
               </b:carouselCaption>

            </b:carouselItem>
            <b:carouselItem >
               <h:graphicImage  name="img/carousel2.jpeg" alt="Valladolid" style="width: 800px; height: 500px" />
            </b:carouselItem >

         </b:carousel>

      </div>
      <br/>
      <br/>
      <div class="container">
         <div class="row">
            <div class="col-md-12">
               <h1 class="text-center">Mis Citas</h1>
            </div>
         </div>
         <div class="row">
            <h:form id="tablaForm">
               <h:dataTable styleClass="table" value="#{citasMecBean.getCitasMeca(session.getAttribute('idUsuario'))}" var="citas" style="width: 100%">
                  <h:column>
                     <f:facet name="header">
                        <h:outputText value="Id de la Cita" />
                     </f:facet>
                     <h:outputText value="#{citas.idCita}" />
                  </h:column>
                  <h:column>
                     <f:facet name="header">
                        <h:outputText value="Dui del Cliente / Nombre del Usuario" />
                     </f:facet>
                     <h:outputText value="#{citas.usuarioByIdCliente.dui} / #{citas.usuarioByIdCliente.nombre}" />
                  </h:column>
                  <h:column>
                     <f:facet name="header">
                        <h:outputText value="Descripcion de la Cita" />
                     </f:facet>
                     <h:outputText value="#{citas.descripcionCita}" />
                  </h:column>
                  <h:column>
                     <f:facet name="header">
                        <h:outputText value="Mecanico Asignado" />
                     </f:facet>
                     <h:outputText value="#{citas.mecanicosByIdMecanico.nombre}" />
                  </h:column>
                  <h:column>
                     <f:facet name="header">
                        <h:outputText value="Estado Cita" />
                     </f:facet>
                     <h:outputText value="Cita Activa" />
                  </h:column>
                  <h:column>
                     <f:facet name="header">
                        <h:outputText value="Acciones" />
                     </f:facet>
                     <b:commandButton value="Modificar Usuario" look="danger" action="#{citasMecBean.finalizarCita(citas)}">
                        <f:ajax execute="@form" render="@form"/>
                     </b:commandButton>
                  </h:column>
               </h:dataTable>
               <h:messages id="successMessage" infoStyle="color:darkgreen" errorStyle="color:darkred" />
            </h:form>
         </div>
      </div>


   </ui:define>

</ui:composition>
